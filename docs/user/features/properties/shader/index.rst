.. _shader:

Shader
======

.. improve description

The following section describes the available shader options and their settings.

There are three different kinds of shader nodes:

   * *BS Shader PP Lighting Property*
   * *BS Lighting Shader Property*
   * *BS Effect Shader Property*

.. maybe use tables? will save a lot of scrolling

.. _shader-pplight:

BS Shader PP Lighting Property
------------------------------

.. Describe this type

This shader node is used for things.

+----------------------------+---------------------------------------------------------------+
|          Property          |                          Description                          |
+============================+===============================================================+
| Alpha Texture              | Requires ``NiAlphaProperty`` to enable.                       |
+----------------------------+---------------------------------------------------------------+
| Decal Single Pass          | Standard decal.                                               |
+----------------------------+---------------------------------------------------------------+
| Dynamic Alpha              |                                                               |
+----------------------------+---------------------------------------------------------------+
| Dynamic Decal Single Pass  |                                                               |
+----------------------------+---------------------------------------------------------------+
| Empty                      | Unknown                                                       |
+----------------------------+---------------------------------------------------------------+
| Environment Mapping        |                                                               |
+----------------------------+---------------------------------------------------------------+
| External Emittance         |                                                               |
+----------------------------+---------------------------------------------------------------+
| Eye Environment Mapping    | Does not use envmap light fade or scale                       |
+----------------------------+---------------------------------------------------------------+
| Face Gen                   |                                                               |
+----------------------------+---------------------------------------------------------------+
| Fire Refraction            | Enables refraction power/period                               |
+----------------------------+---------------------------------------------------------------+
| Hair                       |                                                               |
+----------------------------+---------------------------------------------------------------+
| Local Map Hide Secret      | Hides everything under this marker from view on the local map |
+----------------------------+---------------------------------------------------------------+
| Low Detail                 | Apparently uses standard diff/norm/spec shader                |
+----------------------------+---------------------------------------------------------------+
| Multiple Textures          | Nulls base diff/norm                                          |
+----------------------------+---------------------------------------------------------------+
| Non Projective Shadows     | Disables projected shadows (?)                                |
+----------------------------+---------------------------------------------------------------+
| Parallax Occlusion         |                                                               |
+----------------------------+---------------------------------------------------------------+
| Refraction                 | Enables refraction power                                      |
+----------------------------+---------------------------------------------------------------+
| Remappable Textures        | Typically seen with texture animations                        |
+----------------------------+---------------------------------------------------------------+
| Shadow Frustum             |                                                               |
+----------------------------+---------------------------------------------------------------+
| Shadow Map                 |                                                               |
+----------------------------+---------------------------------------------------------------+
| Single Pass                |                                                               |
+----------------------------+---------------------------------------------------------------+
| Skinned                    | Required for skinned meshes                                   |
+----------------------------+---------------------------------------------------------------+
| Specular                   | Enables specularity                                           |
+----------------------------+---------------------------------------------------------------+
| Tree Billboard             |                                                               |
+----------------------------+---------------------------------------------------------------+
| Unknown 1                  | Unknown                                                       |
+----------------------------+---------------------------------------------------------------+
| Unknown 2                  | Unknown                                                       |
+----------------------------+---------------------------------------------------------------+
| Unknown 3                  | Causes crashes                                                |
+----------------------------+---------------------------------------------------------------+
| Vertex Alpha               |                                                               |
+----------------------------+---------------------------------------------------------------+
| Window Environment Mapping |                                                               |
+----------------------------+---------------------------------------------------------------+
| Z-Buffer Test              |                                                               |
+----------------------------+---------------------------------------------------------------+

.. _shader-light:

BS Lighting Shader Property
---------------------------

.. Describe this type

Skyrim PP shader for assigning material/shader/texture.

This shader node is used for things.

+-------------------------------+----------------------------------------------------------------+
|           Property            |                          Description                           |
+===============================+================================================================+
| Anisotropic Lighting          |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Assume Shadow Mask            |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Back Lighting Map             | Use the backlight map                                          |
+-------------------------------+----------------------------------------------------------------+
| Billboard                     |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Cast Shadows                  | Enables shadow casting                                         |
+-------------------------------+----------------------------------------------------------------+
| Cloud LOD                     |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Decal                         | Decal                                                          |
+-------------------------------+----------------------------------------------------------------+
| Double Sided                  | Enables two-faced rendering                                    |
+-------------------------------+----------------------------------------------------------------+
| Dynamic Decal                 |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Effect Lighting               |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Environment Mapping           | Uses envmap scale                                              |
+-------------------------------+----------------------------------------------------------------+
| Envmap Light Fade             |                                                                |
+-------------------------------+----------------------------------------------------------------+
| External Emittance            |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Eye Environment Mapping       | Does not use envmap light fade or scale                        |
+-------------------------------+----------------------------------------------------------------+
| Facegen Detail                | Adds a face detail map to the 4th texture slot                 |
+-------------------------------+----------------------------------------------------------------+
| Facegen RGB Tint              | Tintmask for the face                                          |
+-------------------------------+----------------------------------------------------------------+
| Fit Scope                     |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Glow Map                      | Adds a glow map to the 3rd texture slot                        |
+-------------------------------+----------------------------------------------------------------+
| Greyscale to Palette Alpha    |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Greyscale to Palette Color    |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Hair Soft Lighting            | Keeps hair shader from blowing out                             |
+-------------------------------+----------------------------------------------------------------+
| HD LOD Objects                |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Hide on Local Map             | Similar to Hide Secret                                         |
+-------------------------------+----------------------------------------------------------------+
| Landscape                     | Unknown                                                        |
+-------------------------------+----------------------------------------------------------------+
| Local Map Hide Secret         | Hides everything under this marker from view  on the local map |
+-------------------------------+----------------------------------------------------------------+
| LOD Landscape                 |                                                                |
+-------------------------------+----------------------------------------------------------------+
| LOD Objects                   |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Model Space Normals           | Use model space normals and an external  specular map          |
+-------------------------------+----------------------------------------------------------------+
| Multi-Index Snow              |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Multi_layer Parallax          | Uses the inner-layer map                                       |
+-------------------------------+----------------------------------------------------------------+
| Multiple Textures             | Enables multiple textures                                      |
+-------------------------------+----------------------------------------------------------------+
| No Fade                       | Disables viewport fading for the mesh                          |
+-------------------------------+----------------------------------------------------------------+
| No LOD Land Blend             |                                                                |
+-------------------------------+----------------------------------------------------------------+
| No Transparency Multisampling |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Non Projective Shadows        | Unknown                                                        |
+-------------------------------+----------------------------------------------------------------+
| Own Emit                      | Provides its own emittance color                               |
+-------------------------------+----------------------------------------------------------------+
| Packed Tangent                |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Parallax Occlusion            |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Parallax                      |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Premult Alpha                 |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Projected UV                  | Used for decaling items                                        |
+-------------------------------+----------------------------------------------------------------+
| Receive Shadows               | Enables this mesh to receive shadows                           |
+-------------------------------+----------------------------------------------------------------+
| Refraction                    | Enables normal map to be used for refraction effects           |
+-------------------------------+----------------------------------------------------------------+
| Remappable Textures           |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Rim Light                     | Uses the rim light map                                         |
+-------------------------------+----------------------------------------------------------------+
| Screendoor Alpha Fade         |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Skinned                       | Required for skinned meshes                                    |
+-------------------------------+----------------------------------------------------------------+
| Soft Effect                   |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Soft Lighting                 | Uses the soft lighting map                                     |
+-------------------------------+----------------------------------------------------------------+
+-------------------------------+----------------------------------------------------------------+
| Specular                      | Enables specularity                                            |
+-------------------------------+----------------------------------------------------------------+
| Temp Refraction               | Unknown                                                        |
+-------------------------------+----------------------------------------------------------------+
| Tree Anim                     | Enables Vertex and Flutter animation                           |
+-------------------------------+----------------------------------------------------------------+
| Uniform Scale                 |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Unused01                      | Unused                                                         |
+-------------------------------+----------------------------------------------------------------+
| Unused02                      | Unused                                                         |
+-------------------------------+----------------------------------------------------------------+
| Use Falloff                   | Use the falloff value in ``EffectShaderProperty``              |
+-------------------------------+----------------------------------------------------------------+
| Vertex Alpha                  | Enables alpha component for vertex colors                      |
+-------------------------------+----------------------------------------------------------------+
| Vertex Colors                 |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Vertex Lighting               |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Weapon Blood                  | Enables blood decals for weapons                               |
+-------------------------------+----------------------------------------------------------------+
| Wireframe                     |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Z-Buffer Test                 |                                                                |
+-------------------------------+----------------------------------------------------------------+
| Z-Buffer Write                | Enables writing to the z-buffer                                |
+-------------------------------+----------------------------------------------------------------+

When importing a BS Lighting Shader Property, the UV scale, UV offset and the clamp mode are converted into shader 
nodes. When this happens, the UV Map input node is first split into X and Y, and later combined for a final output. 
This combining node is what the exporter looks for when trying to find the nodes that do the X and Y transform. 
Therefore, it has a standard name: *'Combine UV0'*. The label is also the same by default, but that can be anything. 
If you want to export UV Scale, UV Offset or the clamp mode, making sure it follows this format is the best way to do 
it. If there is no node with that name, the exporter will still try to find that node by tracing back from the UV map 
input of the 'Base' image texture node, but it will give you a warning. If none are found, the standard values are 
chosen.

.. _shader-effect:

BS Effect Shader Property
-------------------------

.. Describe this type

Skyrim non-PP shader model, used primarily for transparency effects, often as a decal.

+-------------------------------+---------------------------------------------------------------+
|           Property            |                          Description                          |
+===============================+===============================================================+
| Cast Shadows                  | Enables shadow casting                                        |
+-------------------------------+---------------------------------------------------------------+
| Decal                         |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Dynamic Decal                 |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Environment Mapping           | Uses envmap scale                                             |
+-------------------------------+---------------------------------------------------------------+
| External Emittance            |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Eye Environment Mapping       | Must use eye shader and model must be skinned                 |
+-------------------------------+---------------------------------------------------------------+
| Facegen Detail                | Face detail for the 4th texture slot                          |
+-------------------------------+---------------------------------------------------------------+
| Facegen RGB Tint              | Tinkmask for the face                                         |
+-------------------------------+---------------------------------------------------------------+
| Fire Refraction               |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Greyscale to Palette Alpha    |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Greyscale to Palette Color    |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Hair Soft Lighting            | Keeps hair shader from blowing out                            |
+-------------------------------+---------------------------------------------------------------+
| HD LOD Objects                |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Hide on Local Map             | Similar to Hide Secret                                        |
+-------------------------------+---------------------------------------------------------------+
| Landscape                     | Unknown                                                       |
+-------------------------------+---------------------------------------------------------------+
| Local Map Hide Secret         | Hides everything under this marker from view on the local map |
+-------------------------------+---------------------------------------------------------------+
| LOD Landscape                 |                                                               |
+-------------------------------+---------------------------------------------------------------+
| LOD Objects                   |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Model Space Normals           | Use model space normals and an external specular map          |
+-------------------------------+---------------------------------------------------------------+
| Multi-Index Snow              |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Multi_layer Parallax          | Uses the inner-layer map                                      |
+-------------------------------+---------------------------------------------------------------+
| Multiple Textures             | Enables multiple textures                                     |
+-------------------------------+---------------------------------------------------------------+
| No Fade                       | Disables viewport fading for the mesh                         |
+-------------------------------+---------------------------------------------------------------+
| No LOD Land Blend             |                                                               |
+-------------------------------+---------------------------------------------------------------+
| No Transparency Multisampling |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Non Projective Shadows        | Unknown                                                       |
+-------------------------------+---------------------------------------------------------------+
| Own Emit                      | Provides its own emittance color                              |
+-------------------------------+---------------------------------------------------------------+
| Packed Tangent                |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Parallax Occlusion            |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Parallax                      |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Premult Alpha                 |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Projected UV                  | Used for decaling items                                       |
+-------------------------------+---------------------------------------------------------------+
| Receive Shadows               | Enables this mesh to receive shadows                          |
+-------------------------------+---------------------------------------------------------------+
| Refraction                    | Enables normal map to be used for refraction                  |
+-------------------------------+---------------------------------------------------------------+
| Remappable Textures           |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Rim Light                     | Uses the rim light map                                        |
+-------------------------------+---------------------------------------------------------------+
| Screendoor Alpha Fade         |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Skinned                       | Required for skinned meshes                                   |
+-------------------------------+---------------------------------------------------------------+
| Soft Effect                   |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Soft Lighting                 | Uses the soft lighting map                                    |
+-------------------------------+---------------------------------------------------------------+
| Specular                      | Enables specularity                                           |
+-------------------------------+---------------------------------------------------------------+
| Temp Refraction               | Unknown                                                       |
+-------------------------------+---------------------------------------------------------------+
| Tree Anim                     | Enables Vertex and Flutter animation                          |
+-------------------------------+---------------------------------------------------------------+
| Uniform Scale                 |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Unused01                      | Unused                                                        |
+-------------------------------+---------------------------------------------------------------+
| Unused02                      | Unused                                                        |
+-------------------------------+---------------------------------------------------------------+
| Use Falloff                   | Use the falloff value in ``EffectShaderProperty``             |
+-------------------------------+---------------------------------------------------------------+
| Vertex Alpha                  | Enables alpha component for vertex colors                     |
+-------------------------------+---------------------------------------------------------------+
| Vertex Colors                 |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Vertex Lighting               |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Weapon Blood                  | Enables blood decals for weapons                              |
+-------------------------------+---------------------------------------------------------------+
| Wireframe                     |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Z-Buffer Test                 |                                                               |
+-------------------------------+---------------------------------------------------------------+
| Z-Buffer Write                | Enables writing to the z-buffer                               |
+-------------------------------+---------------------------------------------------------------+

.. _shader-lol:

.. -------------------------
.. BS Shader Property
.. -------------------------

.. It has no settings attached what is it for? 
